<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aviator Learner ‚Äî M√≥vil (amigable)</title>
<style>
  :root { --bg:#0f172a; --card:#0b1220; --muted:#94a3b8; --text:#e5e7eb; --accent:#60a5fa; --ok:#22c55e; --bad:#ef4444; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Segoe UI,Inter,Roboto,Arial}
  .wrap{max-width:100%;margin:0 auto;padding:12px}
  h1{margin:0 0 10px;font-size:20px;text-align:center}
  h2{margin:0 0 6px;font-size:16px}
  .card{background:var(--card);border:1px solid #1f2937;border-radius:14px;padding:12px;margin-top:10px}
  .row{display:grid;grid-template-columns:1fr;gap:10px}
  textarea,input,select,button{border-radius:12px;border:1px solid #334155;background:#0b1220;color:var(--text);font-size:16px}
  textarea{width:100%;min-height:80px;padding:10px;font-size:15px}
  input,select{padding:12px;width:100%}
  .btn{padding:12px;background:#111827;border:1px solid #334155;cursor:pointer;border-radius:12px;width:100%}
  .btn:hover{border-color:#475569}
  .muted{color:var(--muted);font-size:13px}
  .signalBox{text-align:center;margin-top:12px}
  .signal{font-weight:700;font-size:22px;display:block;margin-top:6px}
  .ok{color:var(--ok)} .no{color:var(--bad)}
  .table{width:100%;border-collapse:collapse;font-size:13px}
  .table td,.table th{border-bottom:1px solid #1f2937;padding:6px 4px;text-align:left}
  canvas.chart{width:100%;height:220px;background:#0a0f1f;border:1px solid #1f2937;border-radius:12px}
  .rowflex{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  /* Barra de se√±al destacada */
  .signalBar{position:sticky;top:0;z-index:50;display:none;align-items:center;justify-content:center;gap:10px;background:#0b3120;border:1px solid #14532d;color:#bbf7d0;padding:10px 12px;border-radius:12px;margin:10px 0}
  .signalBar.show{display:flex}
  .signalBadge{font-weight:800;padding:4px 10px;border-radius:999px;background:#16a34a;color:#052e16;border:1px solid #14532d}
  .pulse{animation:pulse 1.2s ease-in-out infinite}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
</style>
</head>
<body>
<div class="wrap">
  <h1>üì± Aviator Learner</h1>
  <div id="sigBar" class="signalBar" aria-live="polite" aria-atomic="true">
    <span class="signalBadge">SE√ëAL ACTIVA</span>
    <span id="sigBarTxt">p‚â•‚Äî ¬∑ condiciones OK</span>
  </div>

  <div class="card">
    <h2>Entrada r√°pida</h2>
    <input id="quick" type="text" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" placeholder="Ej: 123 ‚áí 1.23 (Enter)" enterkeyhint="done" />
    <button class="btn" id="btnQuick">A√±adir r√°pido</button>
    <div class="signalBox">
      <div>Prob. pr√≥xima ‚â• target: <span id="prob" class="signal">‚Äî</span></div>
      <span id="signal" class="signal no">‚Äî</span>
    </div>
  </div>

  <div class="card">
    <h2>Entrada m√∫ltiple</h2>
    <textarea id="ta" placeholder="Pega varios multiplicadores: 1.2 2.4 8.3 ..."></textarea>
    <button class="btn" id="btnAdd">A√±adir</button>
    <button class="btn" id="btnClear">Limpiar</button>
  </div>

  <div class="card">
    <h2>Cargar √∫ltimas 60 rondas</h2>
    <textarea id="ta60" placeholder="Pega hasta 60 rondas"></textarea>
    <div class="rowflex">
      <button class="btn" id="btnAdd60">A√±adir 60</button>
      <label><input type="checkbox" id="cbReplace"> Reemplazar dataset</label>
    </div>
  </div>

  <div class="card">
    <h2>Gr√°fica y tendencia</h2>
    <canvas id="chart" class="chart" width="360" height="220"></canvas>
  </div>

  <div class="card">
    <h2>Estad√≠sticas</h2>
    <table class="table small">
      <tr><th>N (rondas)</th><td id="stN">0</td></tr>
      <tr><th>Media</th><td id="stMean">0.00√ó</td></tr>
      <tr><th>Mediana</th><td id="stMed">0.00√ó</td></tr>
      <tr><th>P(‚â•3√ó)</th><td id="stP3">0.0%</td></tr>
      <tr><th>P(‚â•5√ó)</th><td id="stP5">0.0%</td></tr>
      <tr><th>M√°x</th><td id="stMax">0.00√ó</td></tr>
      <tr><th>Tendencia</th><td id="stTrend">‚Äî</td></tr>
    </table>
  </div>

  <div class="card">
    <h2>Se√±ales</h2>
    <table class="table small">
      <tr><th>Pendiente abierta</th><td id="sgPending">No</td></tr>
      <tr><th>Total se√±ales</th><td id="sgTotal">0</td></tr>
      <tr><th>Ganadas</th><td id="sgWins">0</td></tr>
      <tr><th>Perdidas</th><td id="sgLoss">0</td></tr>
      <tr><th>Precisi√≥n</th><td id="sgAcc">0.0%</td></tr>
    </table>
  </div>

  <div class="card"><p class="muted">Herramienta educativa. No interact√∫a con el sitio ni garantiza resultados.</p></div>
</div>

<script>
const $ = (id)=>document.getElementById(id);
const setText=(id,val)=>{const el=$(id); if(el) el.textContent=val;};
let SIG_ACTIVE=false;

document.addEventListener('DOMContentLoaded', () => {
  function addQuick(){
    const s=String($('quick').value||'').trim();
    if(!s) return;
    let v=null;
    if(!s.includes('.') && /^\d{2,4}$/.test(s)){
      if(s.length===2)v=s[0]+'.'+s[1];
      else if(s.length===3)v=s[0]+'.'+s.slice(1);
      else v=s.slice(0,2)+'.'+s.slice(2);
    } else v=s;
    const x=parseFloat(v.replace(',','.'));
    if(Number.isFinite(x)&&x>0){
      alert('A√±adida ronda: '+x.toFixed(2)+'√ó');
      $('quick').value='';
      // mostrar se√±al ejemplo
      const bar=$('sigBar');
      if(bar){ bar.classList.add('show','pulse'); $('#sigBarTxt').textContent=`Valor ${x.toFixed(2)}√ó a√±adido`; }
      SIG_ACTIVE=true;
      if(window.navigator?.vibrate){ try{ navigator.vibrate(80);}catch(_){} }
    }
  }
  $('btnQuick').onclick=addQuick;
  $('quick').addEventListener('keydown',(ev)=>{ if(ev.key==='Enter'){ ev.preventDefault(); addQuick(); }});
  $('quick').addEventListener('focus',()=>{ try{$('quick').scrollIntoView({block:'center'});}catch(_){}});
});
</script>
</body>
</html>
